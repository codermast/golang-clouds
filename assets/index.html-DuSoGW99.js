import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,b as t,d as l,a as i,r as d,o as r}from"./app-EbySI1sk.js";const p={};function c(h,e){const a=d("Catalog");return r(),n("div",null,[e[0]||(e[0]=t("h1",{id:"消息队列",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#消息队列"},[t("span",null,"消息队列")])],-1)),e[1]||(e[1]=t("p",null,"消息队列（Message Queue，MQ）是分布式系统中实现异步通信、系统解耦、流量削峰的核心中间件。",-1)),e[2]||(e[2]=t("h2",{id:"目录",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#目录"},[t("span",null,"目录")])],-1)),l(a,{hideHeading:"false"}),e[3]||(e[3]=i(`<h2 id="为什么需要消息队列" tabindex="-1"><a class="header-anchor" href="#为什么需要消息队列"><span>为什么需要消息队列</span></a></h2><h3 id="_1-异步处理" tabindex="-1"><a class="header-anchor" href="#_1-异步处理"><span>1. 异步处理</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>同步处理：</span></span>
<span class="line"><span>用户注册 → 写数据库(50ms) → 发邮件(50ms) → 发短信(50ms) → 响应(150ms)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>异步处理（使用 MQ）：</span></span>
<span class="line"><span>用户注册 → 写数据库(50ms) → 发送消息到MQ → 响应(50ms)</span></span>
<span class="line"><span>                              ↓</span></span>
<span class="line"><span>                    消费者异步发邮件、发短信</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-系统解耦" tabindex="-1"><a class="header-anchor" href="#_2-系统解耦"><span>2. 系统解耦</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>耦合方式：</span></span>
<span class="line"><span>订单系统 → 直接调用库存系统</span></span>
<span class="line"><span>         → 直接调用支付系统</span></span>
<span class="line"><span>         → 直接调用物流系统</span></span>
<span class="line"><span></span></span>
<span class="line"><span>解耦方式（使用 MQ）：</span></span>
<span class="line"><span>订单系统 → 发送消息到 MQ</span></span>
<span class="line"><span>              ↓</span></span>
<span class="line"><span>    库存系统、支付系统、物流系统 订阅消息</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-流量削峰" tabindex="-1"><a class="header-anchor" href="#_3-流量削峰"><span>3. 流量削峰</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>高峰期：10000 请求/秒</span></span>
<span class="line"><span>        ↓</span></span>
<span class="line"><span>      消息队列（缓冲）</span></span>
<span class="line"><span>        ↓</span></span>
<span class="line"><span>后端系统：按能力消费（1000/秒）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="主流消息队列对比" tabindex="-1"><a class="header-anchor" href="#主流消息队列对比"><span>主流消息队列对比</span></a></h2><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">RabbitMQ</th><th style="text-align:left;">Kafka</th><th style="text-align:left;">RocketMQ</th></tr></thead><tbody><tr><td style="text-align:left;">开发语言</td><td style="text-align:left;">Erlang</td><td style="text-align:left;">Scala/Java</td><td style="text-align:left;">Java</td></tr><tr><td style="text-align:left;">协议</td><td style="text-align:left;">AMQP</td><td style="text-align:left;">自定义</td><td style="text-align:left;">自定义</td></tr><tr><td style="text-align:left;">单机吞吐</td><td style="text-align:left;">万级</td><td style="text-align:left;">百万级</td><td style="text-align:left;">十万级</td></tr><tr><td style="text-align:left;">消息延迟</td><td style="text-align:left;">微秒级</td><td style="text-align:left;">毫秒级</td><td style="text-align:left;">毫秒级</td></tr><tr><td style="text-align:left;">消息可靠性</td><td style="text-align:left;">高</td><td style="text-align:left;">高</td><td style="text-align:left;">高</td></tr><tr><td style="text-align:left;">事务消息</td><td style="text-align:left;">支持</td><td style="text-align:left;">不支持</td><td style="text-align:left;">支持</td></tr><tr><td style="text-align:left;">延迟消息</td><td style="text-align:left;">插件支持</td><td style="text-align:left;">不支持</td><td style="text-align:left;">支持</td></tr><tr><td style="text-align:left;">消息回溯</td><td style="text-align:left;">不支持</td><td style="text-align:left;">支持</td><td style="text-align:left;">支持</td></tr><tr><td style="text-align:left;">管理界面</td><td style="text-align:left;">好</td><td style="text-align:left;">一般</td><td style="text-align:left;">好</td></tr><tr><td style="text-align:left;">社区活跃度</td><td style="text-align:left;">高</td><td style="text-align:left;">高</td><td style="text-align:left;">高</td></tr><tr><td style="text-align:left;">适用场景</td><td style="text-align:left;">中小规模</td><td style="text-align:left;">大数据日志</td><td style="text-align:left;">电商金融</td></tr></tbody></table><h2 id="如何选择" tabindex="-1"><a class="header-anchor" href="#如何选择"><span>如何选择</span></a></h2><table><thead><tr><th style="text-align:left;">场景</th><th style="text-align:left;">推荐</th></tr></thead><tbody><tr><td style="text-align:left;">中小规模、路由灵活</td><td style="text-align:left;">RabbitMQ</td></tr><tr><td style="text-align:left;">大数据、日志收集、流处理</td><td style="text-align:left;">Kafka</td></tr><tr><td style="text-align:left;">电商、金融、需要事务消息</td><td style="text-align:left;">RocketMQ</td></tr><tr><td style="text-align:left;">功能丰富、易于使用</td><td style="text-align:left;">RabbitMQ</td></tr><tr><td style="text-align:left;">极高吞吐量</td><td style="text-align:left;">Kafka</td></tr><tr><td style="text-align:left;">阿里云生态</td><td style="text-align:left;">RocketMQ</td></tr></tbody></table><h2 id="核心概念" tabindex="-1"><a class="header-anchor" href="#核心概念"><span>核心概念</span></a></h2><h3 id="producer-生产者" tabindex="-1"><a class="header-anchor" href="#producer-生产者"><span>Producer（生产者）</span></a></h3><p>消息的发送方，负责创建和发送消息。</p><h3 id="consumer-消费者" tabindex="-1"><a class="header-anchor" href="#consumer-消费者"><span>Consumer（消费者）</span></a></h3><p>消息的接收方，负责接收和处理消息。</p><h3 id="broker-代理-服务器" tabindex="-1"><a class="header-anchor" href="#broker-代理-服务器"><span>Broker（代理/服务器）</span></a></h3><p>消息队列服务端，负责存储和转发消息。</p><h3 id="topic-主题" tabindex="-1"><a class="header-anchor" href="#topic-主题"><span>Topic（主题）</span></a></h3><p>消息的分类，生产者发送消息到指定 Topic，消费者订阅 Topic 获取消息。</p><h3 id="queue-队列" tabindex="-1"><a class="header-anchor" href="#queue-队列"><span>Queue（队列）</span></a></h3><p>消息的存储容器，消息按顺序存入队列。</p><h3 id="message-消息" tabindex="-1"><a class="header-anchor" href="#message-消息"><span>Message（消息）</span></a></h3><p>传输的数据单元，包含消息头和消息体。</p><h2 id="消息模式" tabindex="-1"><a class="header-anchor" href="#消息模式"><span>消息模式</span></a></h2><h3 id="点对点模式-p2p" tabindex="-1"><a class="header-anchor" href="#点对点模式-p2p"><span>点对点模式（P2P）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Producer → Queue → Consumer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>一条消息只能被一个消费者消费。</p><h3 id="发布订阅模式-pub-sub" tabindex="-1"><a class="header-anchor" href="#发布订阅模式-pub-sub"><span>发布订阅模式（Pub/Sub）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Producer → Topic → Consumer1</span></span>
<span class="line"><span>                 → Consumer2</span></span>
<span class="line"><span>                 → Consumer3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一条消息可以被多个消费者消费。</p>`,31))])}const u=s(p,[["render",c]]),m=JSON.parse('{"path":"/tutorials/mq/","title":"消息队列","lang":"zh-CN","frontmatter":{"index":false,"icon":"carbon:ibm-mq","dir":{"link":true},"description":"消息队列 消息队列（Message Queue，MQ）是分布式系统中实现异步通信、系统解耦、流量削峰的核心中间件。 目录","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"消息队列\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-12T08:44:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Golang Clouds\\",\\"url\\":\\"https://www.golangclouds.com\\",\\"email\\":\\"codermast@163.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.golangclouds.com/tutorials/mq/"}],["meta",{"property":"og:site_name","content":"Golang Clouds"}],["meta",{"property":"og:title","content":"消息队列"}],["meta",{"property":"og:description","content":"消息队列 消息队列（Message Queue，MQ）是分布式系统中实现异步通信、系统解耦、流量削峰的核心中间件。 目录"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-12T08:44:14.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-12T08:44:14.000Z"}]]},"git":{"createdTime":1765529054000,"updatedTime":1765529054000,"contributors":[{"name":"友人","username":"","email":"codermast@qq.com","commits":1}]},"readingTime":{"minutes":2.01,"words":602},"filePathRelative":"tutorials/mq/readme.md","autoDesc":true}');export{u as comp,m as data};
