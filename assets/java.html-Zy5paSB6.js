import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a,o as l}from"./app-D1Ic2z9H.js";const e={};function n(h,s){return l(),i("div",null,[...s[0]||(s[0]=[a(`<h1 id="java-面试题" tabindex="-1"><a class="header-anchor" href="#java-面试题"><span>Java 面试题</span></a></h1><p>Java 面试高频考点，覆盖基础语法、集合框架、JVM、并发编程、Spring 等核心知识。</p><hr><h2 id="一、基础语法" tabindex="-1"><a class="header-anchor" href="#一、基础语法"><span>一、基础语法</span></a></h2><h3 id="q1-java-基本类型与包装类型的区别" tabindex="-1"><a class="header-anchor" href="#q1-java-基本类型与包装类型的区别"><span>Q1: Java 基本类型与包装类型的区别</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">基本类型</th><th style="text-align:left;">包装类型</th></tr></thead><tbody><tr><td style="text-align:left;">存储位置</td><td style="text-align:left;">栈内存</td><td style="text-align:left;">堆内存</td></tr><tr><td style="text-align:left;">默认值</td><td style="text-align:left;">有默认值（如 int=0）</td><td style="text-align:left;">null</td></tr><tr><td style="text-align:left;">泛型支持</td><td style="text-align:left;">❌</td><td style="text-align:left;">✅</td></tr><tr><td style="text-align:left;">性能</td><td style="text-align:left;">高</td><td style="text-align:left;">低（有装箱拆箱开销）</td></tr></tbody></table><p><strong>自动装箱/拆箱陷阱：</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> d </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // true（缓存 -128~127）</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> d);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // false（new 出来的对象）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> f </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // NullPointerException!</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q2-string-为什么不可变" tabindex="-1"><a class="header-anchor" href="#q2-string-为什么不可变"><span>Q2: String 为什么不可变？</span></a></h3><p><strong>实现：</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;"> char</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Java 8</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;"> byte</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // Java 9+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>好处：</strong></p><ol><li><strong>线程安全</strong>：不可变对象天然线程安全</li><li><strong>字符串池</strong>：可以安全地共享</li><li><strong>哈希缓存</strong>：hashCode 只需计算一次</li><li><strong>安全性</strong>：防止被篡改</li></ol><p><strong>String vs StringBuilder vs StringBuffer：</strong></p><table><thead><tr><th style="text-align:left;">类</th><th style="text-align:left;">可变性</th><th style="text-align:left;">线程安全</th><th style="text-align:left;">性能</th></tr></thead><tbody><tr><td style="text-align:left;">String</td><td style="text-align:left;">❌</td><td style="text-align:left;">✅</td><td style="text-align:left;">拼接慢</td></tr><tr><td style="text-align:left;">StringBuilder</td><td style="text-align:left;">✅</td><td style="text-align:left;">❌</td><td style="text-align:left;">快</td></tr><tr><td style="text-align:left;">StringBuffer</td><td style="text-align:left;">✅</td><td style="text-align:left;">✅</td><td style="text-align:left;">较慢（synchronized）</td></tr></tbody></table><hr><h3 id="q3-和-equals-的区别" tabindex="-1"><a class="header-anchor" href="#q3-和-equals-的区别"><span>Q3: == 和 equals 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">比较方式</th><th style="text-align:left;">基本类型</th><th style="text-align:left;">引用类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>==</code></td><td style="text-align:left;">比较值</td><td style="text-align:left;">比较地址</td></tr><tr><td style="text-align:left;"><code>equals</code></td><td style="text-align:left;">-</td><td style="text-align:left;">比较内容（需重写）</td></tr></tbody></table><p><strong>重写 equals 必须重写 hashCode：</strong></p><ul><li>两个对象 equals 相等，hashCode 必须相等</li><li>hashCode 相等，equals 不一定相等</li></ul><hr><h3 id="q4-final、finally、finalize-的区别" tabindex="-1"><a class="header-anchor" href="#q4-final、finally、finalize-的区别"><span>Q4: final、finally、finalize 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">关键字</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>final</strong></td><td style="text-align:left;">修饰类（不可继承）、方法（不可重写）、变量（不可修改）</td></tr><tr><td style="text-align:left;"><strong>finally</strong></td><td style="text-align:left;">try-catch 后必须执行的代码块</td></tr><tr><td style="text-align:left;"><strong>finalize</strong></td><td style="text-align:left;">对象被 GC 前调用（已废弃，不推荐使用）</td></tr></tbody></table><hr><h3 id="q5-接口和抽象类的区别" tabindex="-1"><a class="header-anchor" href="#q5-接口和抽象类的区别"><span>Q5: 接口和抽象类的区别</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">接口</th><th style="text-align:left;">抽象类</th></tr></thead><tbody><tr><td style="text-align:left;">多继承</td><td style="text-align:left;">✅ 可实现多个</td><td style="text-align:left;">❌ 只能继承一个</td></tr><tr><td style="text-align:left;">构造器</td><td style="text-align:left;">❌ 没有</td><td style="text-align:left;">✅ 有</td></tr><tr><td style="text-align:left;">成员变量</td><td style="text-align:left;">只能 public static final</td><td style="text-align:left;">可以有普通变量</td></tr><tr><td style="text-align:left;">方法</td><td style="text-align:left;">默认 public abstract</td><td style="text-align:left;">可以有具体方法</td></tr><tr><td style="text-align:left;">设计目的</td><td style="text-align:left;">定义行为契约</td><td style="text-align:left;">代码复用</td></tr></tbody></table><p><strong>Java 8+：</strong> 接口可以有 default 方法和 static 方法。</p><hr><h2 id="二、集合框架" tabindex="-1"><a class="header-anchor" href="#二、集合框架"><span>二、集合框架</span></a></h2><h3 id="q6-arraylist-和-linkedlist-的区别" tabindex="-1"><a class="header-anchor" href="#q6-arraylist-和-linkedlist-的区别"><span>Q6: ArrayList 和 LinkedList 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">ArrayList</th><th style="text-align:left;">LinkedList</th></tr></thead><tbody><tr><td style="text-align:left;">底层结构</td><td style="text-align:left;">动态数组</td><td style="text-align:left;">双向链表</td></tr><tr><td style="text-align:left;">随机访问</td><td style="text-align:left;">O(1)</td><td style="text-align:left;">O(N)</td></tr><tr><td style="text-align:left;">插入删除</td><td style="text-align:left;">O(N)（需移动元素）</td><td style="text-align:left;">O(1)（找到位置后）</td></tr><tr><td style="text-align:left;">内存占用</td><td style="text-align:left;">紧凑</td><td style="text-align:left;">每个节点有指针开销</td></tr></tbody></table><p><strong>ArrayList 扩容：</strong></p><ul><li>默认容量 10</li><li>扩容为原来的 1.5 倍（<code>oldCapacity + (oldCapacity &gt;&gt; 1)</code>）</li><li>建议指定初始容量</li></ul><hr><h3 id="q7-hashmap-的底层原理" tabindex="-1"><a class="header-anchor" href="#q7-hashmap-的底层原理"><span>Q7: HashMap 的底层原理</span></a></h3><p><strong>结构（Java 8）：</strong></p><ul><li>数组 + 链表 + 红黑树</li><li>默认容量 16，负载因子 0.75</li></ul><p><strong>重要参数：</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">树化阈值</td><td style="text-align:left;">链表长度 &gt; 8 且数组长度 &gt;= 64</td></tr><tr><td style="text-align:left;">退化阈值</td><td style="text-align:left;">树节点 &lt; 6 时退化为链表</td></tr><tr><td style="text-align:left;">扩容</td><td style="text-align:left;">元素数量 &gt; 容量 × 负载因子</td></tr></tbody></table><p><strong>put 流程：</strong></p><ol><li>计算 key 的 hash：<code>(h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</code></li><li>计算下标：<code>hash &amp; (n - 1)</code></li><li>位置为空直接插入</li><li>不为空，判断 key 是否相同</li><li>相同则覆盖，不同则处理冲突（链表或红黑树）</li><li>判断是否需要扩容</li></ol><hr><h3 id="q8-hashmap-为什么线程不安全" tabindex="-1"><a class="header-anchor" href="#q8-hashmap-为什么线程不安全"><span>Q8: HashMap 为什么线程不安全</span></a></h3><p><strong>问题：</strong></p><ol><li><strong>数据覆盖</strong>：多线程 put 可能覆盖数据</li><li><strong>死循环</strong>（Java 7）：头插法扩容导致链表成环</li><li><strong>数据丢失</strong>：扩容时数据丢失</li></ol><p><strong>解决方案：</strong></p><ul><li><code>Collections.synchronizedMap()</code></li><li><code>ConcurrentHashMap</code>（推荐）</li></ul><hr><h3 id="q9-concurrenthashmap-的实现原理" tabindex="-1"><a class="header-anchor" href="#q9-concurrenthashmap-的实现原理"><span>Q9: ConcurrentHashMap 的实现原理</span></a></h3><p><strong>Java 7：</strong></p><ul><li>分段锁（Segment），每个 Segment 是一个小的 HashMap</li><li>并发度取决于 Segment 数量</li></ul><p><strong>Java 8：</strong></p><ul><li>数组 + 链表 + 红黑树（和 HashMap 类似）</li><li>使用 CAS + synchronized（锁单个桶）</li><li>并发度大幅提升</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// put 流程</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (tab[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    CAS 插入  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 无锁</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    synchronized</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (tab[i]) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 链表或红黑树操作</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q10-fail-fast-和-fail-safe-的区别" tabindex="-1"><a class="header-anchor" href="#q10-fail-fast-和-fail-safe-的区别"><span>Q10: fail-fast 和 fail-safe 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">fail-fast</th><th style="text-align:left;">fail-safe</th></tr></thead><tbody><tr><td style="text-align:left;">检测修改</td><td style="text-align:left;">立即抛出 ConcurrentModificationException</td><td style="text-align:left;">不抛异常</td></tr><tr><td style="text-align:left;">实现</td><td style="text-align:left;">modCount 检查</td><td style="text-align:left;">操作副本</td></tr><tr><td style="text-align:left;">典型类</td><td style="text-align:left;">ArrayList、HashMap</td><td style="text-align:left;">CopyOnWriteArrayList、ConcurrentHashMap</td></tr><tr><td style="text-align:left;">内存开销</td><td style="text-align:left;">低</td><td style="text-align:left;">高（复制）</td></tr></tbody></table><hr><h2 id="三、jvm" tabindex="-1"><a class="header-anchor" href="#三、jvm"><span>三、JVM</span></a></h2><h3 id="q11-jvm-内存结构" tabindex="-1"><a class="header-anchor" href="#q11-jvm-内存结构"><span>Q11: JVM 内存结构</span></a></h3><table><thead><tr><th style="text-align:left;">区域</th><th style="text-align:left;">说明</th><th style="text-align:left;">线程共享</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>堆</strong></td><td style="text-align:left;">对象实例</td><td style="text-align:left;">✅</td></tr><tr><td style="text-align:left;"><strong>方法区</strong></td><td style="text-align:left;">类信息、常量、静态变量</td><td style="text-align:left;">✅</td></tr><tr><td style="text-align:left;"><strong>虚拟机栈</strong></td><td style="text-align:left;">方法调用的栈帧</td><td style="text-align:left;">❌</td></tr><tr><td style="text-align:left;"><strong>本地方法栈</strong></td><td style="text-align:left;">Native 方法</td><td style="text-align:left;">❌</td></tr><tr><td style="text-align:left;"><strong>程序计数器</strong></td><td style="text-align:left;">当前执行的字节码指令地址</td><td style="text-align:left;">❌</td></tr></tbody></table><p><strong>堆分代：</strong></p><ul><li>新生代（Eden + S0 + S1）</li><li>老年代</li></ul><hr><h3 id="q12-垃圾回收算法" tabindex="-1"><a class="header-anchor" href="#q12-垃圾回收算法"><span>Q12: 垃圾回收算法</span></a></h3><table><thead><tr><th style="text-align:left;">算法</th><th style="text-align:left;">说明</th><th style="text-align:left;">适用场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>标记-清除</strong></td><td style="text-align:left;">标记垃圾后清除</td><td style="text-align:left;">老年代</td></tr><tr><td style="text-align:left;"><strong>复制算法</strong></td><td style="text-align:left;">存活对象复制到另一块区域</td><td style="text-align:left;">新生代</td></tr><tr><td style="text-align:left;"><strong>标记-整理</strong></td><td style="text-align:left;">标记后移动存活对象到一端</td><td style="text-align:left;">老年代</td></tr><tr><td style="text-align:left;"><strong>分代收集</strong></td><td style="text-align:left;">不同代用不同算法</td><td style="text-align:left;">实际使用</td></tr></tbody></table><hr><h3 id="q13-常见的垃圾回收器" tabindex="-1"><a class="header-anchor" href="#q13-常见的垃圾回收器"><span>Q13: 常见的垃圾回收器</span></a></h3><table><thead><tr><th style="text-align:left;">回收器</th><th style="text-align:left;">特点</th><th style="text-align:left;">适用场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Serial</strong></td><td style="text-align:left;">单线程，STW</td><td style="text-align:left;">单核 CPU、小堆</td></tr><tr><td style="text-align:left;"><strong>ParNew</strong></td><td style="text-align:left;">Serial 多线程版</td><td style="text-align:left;">配合 CMS</td></tr><tr><td style="text-align:left;"><strong>Parallel</strong></td><td style="text-align:left;">吞吐量优先</td><td style="text-align:left;">后台任务</td></tr><tr><td style="text-align:left;"><strong>CMS</strong></td><td style="text-align:left;">低延迟，并发标记</td><td style="text-align:left;">Web 应用（已废弃）</td></tr><tr><td style="text-align:left;"><strong>G1</strong></td><td style="text-align:left;">分 Region，可预测停顿</td><td style="text-align:left;">大堆、低延迟（推荐）</td></tr><tr><td style="text-align:left;"><strong>ZGC</strong></td><td style="text-align:left;">超低延迟（&lt;10ms）</td><td style="text-align:left;">超大堆</td></tr></tbody></table><p><strong>G1 vs CMS：</strong></p><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">CMS</th><th style="text-align:left;">G1</th></tr></thead><tbody><tr><td style="text-align:left;">内存布局</td><td style="text-align:left;">分代</td><td style="text-align:left;">分 Region</td></tr><tr><td style="text-align:left;">回收方式</td><td style="text-align:left;">标记-清除（碎片）</td><td style="text-align:left;">标记-整理（无碎片）</td></tr><tr><td style="text-align:left;">可预测性</td><td style="text-align:left;">差</td><td style="text-align:left;">可设置目标停顿时间</td></tr><tr><td style="text-align:left;">大对象</td><td style="text-align:left;">老年代</td><td style="text-align:left;">Humongous Region</td></tr></tbody></table><hr><h3 id="q14-类加载机制与双亲委派" tabindex="-1"><a class="header-anchor" href="#q14-类加载机制与双亲委派"><span>Q14: 类加载机制与双亲委派</span></a></h3><p><strong>类加载过程：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>加载 → 验证 → 准备 → 解析 → 初始化</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>双亲委派：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>BootstrapClassLoader（rt.jar）</span></span>
<span class="line"><span>        ↑</span></span>
<span class="line"><span>ExtClassLoader（ext/*.jar）</span></span>
<span class="line"><span>        ↑</span></span>
<span class="line"><span>AppClassLoader（classpath）</span></span>
<span class="line"><span>        ↑</span></span>
<span class="line"><span>自定义 ClassLoader</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>为什么使用双亲委派：</strong></p><ul><li>避免类重复加载</li><li>保护核心类（如 java.lang.String）</li></ul><p><strong>如何打破：</strong></p><ul><li>重写 <code>loadClass()</code> 方法</li><li>SPI（JDBC、JNDI）</li><li>OSGi</li></ul><hr><h2 id="四、并发编程" tabindex="-1"><a class="header-anchor" href="#四、并发编程"><span>四、并发编程</span></a></h2><h3 id="q15-synchronized-和-reentrantlock-的区别" tabindex="-1"><a class="header-anchor" href="#q15-synchronized-和-reentrantlock-的区别"><span>Q15: synchronized 和 ReentrantLock 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">synchronized</th><th style="text-align:left;">ReentrantLock</th></tr></thead><tbody><tr><td style="text-align:left;">实现</td><td style="text-align:left;">JVM 内置</td><td style="text-align:left;">Java API</td></tr><tr><td style="text-align:left;">释放锁</td><td style="text-align:left;">自动释放</td><td style="text-align:left;">必须手动 unlock</td></tr><tr><td style="text-align:left;">可中断</td><td style="text-align:left;">❌</td><td style="text-align:left;">✅ <code>lockInterruptibly()</code></td></tr><tr><td style="text-align:left;">公平锁</td><td style="text-align:left;">❌</td><td style="text-align:left;">✅ 可设置</td></tr><tr><td style="text-align:left;">条件队列</td><td style="text-align:left;">一个（wait/notify）</td><td style="text-align:left;">多个（Condition）</td></tr><tr><td style="text-align:left;">性能</td><td style="text-align:left;">JDK 6 后优化，差距不大</td><td style="text-align:left;">略好</td></tr></tbody></table><p><strong>synchronized 锁升级：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>无锁 → 偏向锁 → 轻量级锁（CAS 自旋） → 重量级锁</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="q16-volatile-的作用" tabindex="-1"><a class="header-anchor" href="#q16-volatile-的作用"><span>Q16: volatile 的作用</span></a></h3><p><strong>两个语义：</strong></p><ol><li><strong>可见性</strong>：修改后立即对其他线程可见</li><li><strong>有序性</strong>：禁止指令重排序</li></ol><p><strong>不保证原子性：</strong> 复合操作（如 i++）不是原子的</p><p><strong>典型场景：</strong></p><ul><li>状态标识（如 running = false）</li><li>双重检查锁定（DCL）单例</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// DCL 单例</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> volatile</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Singleton</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Singleton</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (instance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        synchronized</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Singleton</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (instance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                instance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Singleton</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q17-线程池的核心参数" tabindex="-1"><a class="header-anchor" href="#q17-线程池的核心参数"><span>Q17: 线程池的核心参数</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ThreadPoolExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    corePoolSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     // 核心线程数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    maximumPoolSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 最大线程数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    keepAliveTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 空闲线程存活时间</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    unit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">             // 时间单位</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    workQueue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 工作队列</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    threadFactory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 线程工厂</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    handler           </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 拒绝策略</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>执行流程：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>任务提交 → 核心线程未满 → 创建核心线程执行</span></span>
<span class="line"><span>           → 核心线程满 → 入队列</span></span>
<span class="line"><span>           → 队列满 → 创建非核心线程</span></span>
<span class="line"><span>           → 最大线程满 → 拒绝策略</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>拒绝策略：</strong></p><table><thead><tr><th style="text-align:left;">策略</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">AbortPolicy</td><td style="text-align:left;">抛异常（默认）</td></tr><tr><td style="text-align:left;">CallerRunsPolicy</td><td style="text-align:left;">调用者线程执行</td></tr><tr><td style="text-align:left;">DiscardPolicy</td><td style="text-align:left;">静默丢弃</td></tr><tr><td style="text-align:left;">DiscardOldestPolicy</td><td style="text-align:left;">丢弃最旧任务</td></tr></tbody></table><hr><h3 id="q18-aqs-的原理" tabindex="-1"><a class="header-anchor" href="#q18-aqs-的原理"><span>Q18: AQS 的原理</span></a></h3><p><strong>核心组成：</strong></p><ul><li><strong>state</strong>：同步状态（volatile）</li><li><strong>CLH 队列</strong>：双向链表，存储等待线程</li><li><strong>独占/共享模式</strong></li></ul><p><strong>ReentrantLock 基于 AQS：</strong></p><ul><li><code>lock()</code>：<code>tryAcquire()</code> 尝试获取锁，失败则加入队列</li><li><code>unlock()</code>：<code>tryRelease()</code> 释放锁，唤醒队列头部线程</li></ul><hr><h3 id="q19-threadlocal-的原理和内存泄漏" tabindex="-1"><a class="header-anchor" href="#q19-threadlocal-的原理和内存泄漏"><span>Q19: ThreadLocal 的原理和内存泄漏</span></a></h3><p><strong>原理：</strong></p><ul><li>每个线程有自己的 <code>ThreadLocalMap</code></li><li>key 是 ThreadLocal 对象（弱引用）</li><li>value 是存储的值</li></ul><p><strong>内存泄漏：</strong></p><ul><li>key（弱引用）被 GC 回收后变成 null</li><li>value 无法被访问但无法回收</li><li>解决：使用后调用 <code>remove()</code></li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    threadLocal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(value);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 使用</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">finally</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    threadLocal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 必须清理</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="五、spring" tabindex="-1"><a class="header-anchor" href="#五、spring"><span>五、Spring</span></a></h2><h3 id="q20-spring-bean-的生命周期" tabindex="-1"><a class="header-anchor" href="#q20-spring-bean-的生命周期"><span>Q20: Spring Bean 的生命周期</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>实例化 → 属性注入 → Aware 接口回调 → @PostConstruct</span></span>
<span class="line"><span>    → InitializingBean.afterPropertiesSet → 自定义 init-method</span></span>
<span class="line"><span>    → 使用 → @PreDestroy → DisposableBean.destroy → 自定义 destroy-method</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q21-spring-aop-的实现原理" tabindex="-1"><a class="header-anchor" href="#q21-spring-aop-的实现原理"><span>Q21: Spring AOP 的实现原理</span></a></h3><p><strong>两种代理方式：</strong></p><table><thead><tr><th style="text-align:left;">方式</th><th style="text-align:left;">条件</th><th style="text-align:left;">原理</th></tr></thead><tbody><tr><td style="text-align:left;">JDK 动态代理</td><td style="text-align:left;">目标类实现接口</td><td style="text-align:left;">基于反射，生成接口代理类</td></tr><tr><td style="text-align:left;">CGLIB</td><td style="text-align:left;">目标类无接口</td><td style="text-align:left;">基于 ASM，生成子类代理</td></tr></tbody></table><p><strong>核心概念：</strong></p><ul><li><strong>JoinPoint</strong>：连接点（可被增强的方法）</li><li><strong>Pointcut</strong>：切入点表达式</li><li><strong>Advice</strong>：通知（Before、After、Around）</li><li><strong>Aspect</strong>：切面（Pointcut + Advice）</li></ul><hr><h3 id="q22-transactional-失效场景" tabindex="-1"><a class="header-anchor" href="#q22-transactional-失效场景"><span>Q22: @Transactional 失效场景</span></a></h3><table><thead><tr><th style="text-align:left;">场景</th><th style="text-align:left;">原因</th></tr></thead><tbody><tr><td style="text-align:left;">同类内部调用</td><td style="text-align:left;">未经过代理</td></tr><tr><td style="text-align:left;">非 public 方法</td><td style="text-align:left;">代理无法拦截</td></tr><tr><td style="text-align:left;">异常被 catch</td><td style="text-align:left;">未抛出，无法回滚</td></tr><tr><td style="text-align:left;">抛出非 RuntimeException</td><td style="text-align:left;">需配置 rollbackFor</td></tr><tr><td style="text-align:left;">数据库不支持事务</td><td style="text-align:left;">如 MyISAM</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 配置回滚所有异常</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q23-spring-boot-自动装配原理" tabindex="-1"><a class="header-anchor" href="#q23-spring-boot-自动装配原理"><span>Q23: Spring Boot 自动装配原理</span></a></h3><p><strong>核心注解：</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">SpringBootApplication</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    ├── </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">EnableAutoConfiguration</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    │       └── </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Import</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">AutoConfigurationImportSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    └── </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">ComponentScan</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>流程：</strong></p><ol><li>读取 <code>META-INF/spring.factories</code>（Spring Boot 2.x）</li><li>读取 <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>（Spring Boot 3.x）</li><li>根据 <code>@Conditional</code> 条件过滤</li><li>加载满足条件的配置类</li></ol><hr><h2 id="六、更多八股文" tabindex="-1"><a class="header-anchor" href="#六、更多八股文"><span>六、更多八股文</span></a></h2><h3 id="q24-对象的创建过程" tabindex="-1"><a class="header-anchor" href="#q24-对象的创建过程"><span>Q24: 对象的创建过程</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>1. 类加载检查</span></span>
<span class="line"><span>2. 分配内存（指针碰撞/空闲列表）</span></span>
<span class="line"><span>3. 初始化零值</span></span>
<span class="line"><span>4. 设置对象头（哈希码、GC 分代年龄、锁状态、类型指针）</span></span>
<span class="line"><span>5. 执行 &lt;init&gt; 方法（构造函数）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q25-强引用、软引用、弱引用、虚引用" tabindex="-1"><a class="header-anchor" href="#q25-强引用、软引用、弱引用、虚引用"><span>Q25: 强引用、软引用、弱引用、虚引用</span></a></h3><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">特点</th><th style="text-align:left;">GC 行为</th><th style="text-align:left;">典型场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>强引用</strong></td><td style="text-align:left;">最常见</td><td style="text-align:left;">不回收</td><td style="text-align:left;">普通对象</td></tr><tr><td style="text-align:left;"><strong>软引用</strong></td><td style="text-align:left;">SoftReference</td><td style="text-align:left;">内存不足时回收</td><td style="text-align:left;">缓存</td></tr><tr><td style="text-align:left;"><strong>弱引用</strong></td><td style="text-align:left;">WeakReference</td><td style="text-align:left;">下次 GC 必回收</td><td style="text-align:left;">WeakHashMap</td></tr><tr><td style="text-align:left;"><strong>虚引用</strong></td><td style="text-align:left;">PhantomReference</td><td style="text-align:left;">随时回收，需配合队列</td><td style="text-align:left;">资源清理</td></tr></tbody></table><hr><h3 id="q26-java-反射机制" tabindex="-1"><a class="header-anchor" href="#q26-java-反射机制"><span>Q26: Java 反射机制</span></a></h3><p><strong>获取 Class 对象：</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;java.lang.String&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>反射的应用：</strong></p><ul><li>框架（Spring IOC、MyBatis）</li><li>动态代理</li><li>注解处理</li></ul><p><strong>缺点：</strong> 性能开销、破坏封装、安全问题</p><hr><h3 id="q27-java-异常体系" tabindex="-1"><a class="header-anchor" href="#q27-java-异常体系"><span>Q27: Java 异常体系</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Throwable</span></span>
<span class="line"><span>├── Error（程序无法处理）</span></span>
<span class="line"><span>│   ├── OutOfMemoryError</span></span>
<span class="line"><span>│   ├── StackOverflowError</span></span>
<span class="line"><span>│   └── ...</span></span>
<span class="line"><span>└── Exception</span></span>
<span class="line"><span>    ├── RuntimeException（非受检异常）</span></span>
<span class="line"><span>    │   ├── NullPointerException</span></span>
<span class="line"><span>    │   ├── ClassCastException</span></span>
<span class="line"><span>    │   └── ...</span></span>
<span class="line"><span>    └── 受检异常（必须处理）</span></span>
<span class="line"><span>        ├── IOException</span></span>
<span class="line"><span>        ├── SQLException</span></span>
<span class="line"><span>        └── ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q28-bio、nio、aio-的区别" tabindex="-1"><a class="header-anchor" href="#q28-bio、nio、aio-的区别"><span>Q28: BIO、NIO、AIO 的区别</span></a></h3><table><thead><tr><th style="text-align:left;">模型</th><th style="text-align:left;">说明</th><th style="text-align:left;">特点</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>BIO</strong></td><td style="text-align:left;">同步阻塞</td><td style="text-align:left;">一个连接一个线程</td></tr><tr><td style="text-align:left;"><strong>NIO</strong></td><td style="text-align:left;">同步非阻塞</td><td style="text-align:left;">多路复用，Selector 轮询</td></tr><tr><td style="text-align:left;"><strong>AIO</strong></td><td style="text-align:left;">异步非阻塞</td><td style="text-align:left;">回调通知，真正异步</td></tr></tbody></table><p><strong>NIO 核心组件：</strong></p><ul><li><strong>Channel</strong>：双向通道</li><li><strong>Buffer</strong>：缓冲区</li><li><strong>Selector</strong>：多路复用器</li></ul><hr><h3 id="q29-序列化和反序列化" tabindex="-1"><a class="header-anchor" href="#q29-序列化和反序列化"><span>Q29: 序列化和反序列化</span></a></h3><p><strong>实现方式：</strong></p><ol><li>实现 <code>Serializable</code> 接口</li><li>设置 <code>serialVersionUID</code></li></ol><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> User</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Serializable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> transient</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 不参与序列化</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常见序列化框架：</strong> JSON、Protobuf、Hessian、Kryo</p><hr><h3 id="q30-常用设计模式" tabindex="-1"><a class="header-anchor" href="#q30-常用设计模式"><span>Q30: 常用设计模式</span></a></h3><table><thead><tr><th style="text-align:left;">模式</th><th style="text-align:left;">说明</th><th style="text-align:left;">Java 中的应用</th></tr></thead><tbody><tr><td style="text-align:left;">单例</td><td style="text-align:left;">全局唯一实例</td><td style="text-align:left;">Runtime、Spring Bean</td></tr><tr><td style="text-align:left;">工厂</td><td style="text-align:left;">创建对象</td><td style="text-align:left;">Calendar.getInstance()</td></tr><tr><td style="text-align:left;">代理</td><td style="text-align:left;">增强功能</td><td style="text-align:left;">AOP、动态代理</td></tr><tr><td style="text-align:left;">观察者</td><td style="text-align:left;">发布订阅</td><td style="text-align:left;">EventListener</td></tr><tr><td style="text-align:left;">模板方法</td><td style="text-align:left;">定义骨架</td><td style="text-align:left;">AbstractList</td></tr><tr><td style="text-align:left;">策略</td><td style="text-align:left;">算法可替换</td><td style="text-align:left;">Comparator</td></tr><tr><td style="text-align:left;">责任链</td><td style="text-align:left;">链式处理</td><td style="text-align:left;">Filter、Interceptor</td></tr></tbody></table><hr><h3 id="q31-integer-缓存机制" tabindex="-1"><a class="header-anchor" href="#q31-integer-缓存机制"><span>Q31: Integer 缓存机制</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // true（缓存）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> d </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 128</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> d);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // false（新对象）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>缓存范围：</strong> -128 ~ 127（可通过 JVM 参数调整上限）</p><hr><h3 id="q32-object-类的常用方法" tabindex="-1"><a class="header-anchor" href="#q32-object-类的常用方法"><span>Q32: Object 类的常用方法</span></a></h3><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>equals()</code></td><td style="text-align:left;">比较对象相等</td></tr><tr><td style="text-align:left;"><code>hashCode()</code></td><td style="text-align:left;">返回哈希码</td></tr><tr><td style="text-align:left;"><code>toString()</code></td><td style="text-align:left;">对象字符串表示</td></tr><tr><td style="text-align:left;"><code>clone()</code></td><td style="text-align:left;">克隆对象</td></tr><tr><td style="text-align:left;"><code>getClass()</code></td><td style="text-align:left;">获取运行时类</td></tr><tr><td style="text-align:left;"><code>wait/notify</code></td><td style="text-align:left;">线程通信</td></tr><tr><td style="text-align:left;"><code>finalize()</code></td><td style="text-align:left;">GC 前调用（已废弃）</td></tr></tbody></table><hr><h3 id="q33-深拷贝和浅拷贝" tabindex="-1"><a class="header-anchor" href="#q33-深拷贝和浅拷贝"><span>Q33: 深拷贝和浅拷贝</span></a></h3><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th><th style="text-align:left;">实现方式</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>浅拷贝</strong></td><td style="text-align:left;">只复制引用</td><td style="text-align:left;">Object.clone()</td></tr><tr><td style="text-align:left;"><strong>深拷贝</strong></td><td style="text-align:left;">复制整个对象树</td><td style="text-align:left;">序列化、手动递归复制</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 深拷贝 - 序列化方式</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> deepCopy</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ByteArrayOutputStream</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> bos </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ByteArrayOutputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ObjectOutputStream</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oos </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ObjectOutputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(bos)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    oos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">writeObject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(obj);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ByteArrayInputStream</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> bis </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ByteArrayInputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">bos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toByteArray</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ObjectInputStream</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> ois </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ObjectInputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(bis)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> ois</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readObject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="q34-jdk-动态代理-vs-cglib" tabindex="-1"><a class="header-anchor" href="#q34-jdk-动态代理-vs-cglib"><span>Q34: JDK 动态代理 vs CGLIB</span></a></h3><table><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">JDK 动态代理</th><th style="text-align:left;">CGLIB</th></tr></thead><tbody><tr><td style="text-align:left;">条件</td><td style="text-align:left;">目标类必须实现接口</td><td style="text-align:left;">无需接口</td></tr><tr><td style="text-align:left;">原理</td><td style="text-align:left;">反射 + 接口代理类</td><td style="text-align:left;">ASM 生成子类</td></tr><tr><td style="text-align:left;">性能</td><td style="text-align:left;">创建快，调用慢</td><td style="text-align:left;">创建慢，调用快</td></tr><tr><td style="text-align:left;">final 方法</td><td style="text-align:left;">-</td><td style="text-align:left;">无法代理</td></tr></tbody></table><hr><h3 id="q35-如何排查-cpu-100" tabindex="-1"><a class="header-anchor" href="#q35-如何排查-cpu-100"><span>Q35: 如何排查 CPU 100%</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. 找到高 CPU 进程</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. 找到高 CPU 线程</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Hp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3. 线程 ID 转 16 进制</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">printf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%x\\n&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ti</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 4. 导出线程栈</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">jstack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt; | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tid_he</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常见原因：</strong> 死循环、频繁 GC、锁竞争</p><hr><h3 id="q36-如何排查-oom" tabindex="-1"><a class="header-anchor" href="#q36-如何排查-oom"><span>Q36: 如何排查 OOM</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置 OOM 时自动 dump</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-XX:+HeapDumpOnOutOfMemoryError</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-XX:HeapDumpPath</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=/path/to/dump.hprof</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 分析 dump 文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">jvisualvm</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (Memory </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Analyzer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Tool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常见原因：</strong> 内存泄漏、大对象、批量查询无分页</p><hr><h2 id="七、高频考点清单" tabindex="-1"><a class="header-anchor" href="#七、高频考点清单"><span>七、高频考点清单</span></a></h2><h3 id="必考" tabindex="-1"><a class="header-anchor" href="#必考"><span>必考</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> HashMap 底层原理、树化条件</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> ConcurrentHashMap 实现</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> JVM 内存结构</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 垃圾回收器（G1 vs CMS）</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> synchronized vs ReentrantLock</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" disabled="disabled"><label class="task-list-item-label" for="task-item-5"> volatile 语义</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" disabled="disabled"><label class="task-list-item-label" for="task-item-6"> 线程池参数和执行流程</label></li></ul><h3 id="常考" tabindex="-1"><a class="header-anchor" href="#常考"><span>常考</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-7" disabled="disabled"><label class="task-list-item-label" for="task-item-7"> String 不可变原因</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-8" disabled="disabled"><label class="task-list-item-label" for="task-item-8"> 双亲委派机制</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-9" disabled="disabled"><label class="task-list-item-label" for="task-item-9"> AQS 原理</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-10" disabled="disabled"><label class="task-list-item-label" for="task-item-10"> ThreadLocal 内存泄漏</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-11" disabled="disabled"><label class="task-list-item-label" for="task-item-11"> Spring Bean 生命周期</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-12" disabled="disabled"><label class="task-list-item-label" for="task-item-12"> @Transactional 失效场景</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-13" disabled="disabled"><label class="task-list-item-label" for="task-item-13"> 强软弱虚引用</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-14" disabled="disabled"><label class="task-list-item-label" for="task-item-14"> BIO/NIO/AIO 区别</label></li></ul><h3 id="进阶" tabindex="-1"><a class="header-anchor" href="#进阶"><span>进阶</span></a></h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-15" disabled="disabled"><label class="task-list-item-label" for="task-item-15"> synchronized 锁升级</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-16" disabled="disabled"><label class="task-list-item-label" for="task-item-16"> CMS 与 G1 区别</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-17" disabled="disabled"><label class="task-list-item-label" for="task-item-17"> 类加载过程</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-18" disabled="disabled"><label class="task-list-item-label" for="task-item-18"> Spring AOP 动态代理</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-19" disabled="disabled"><label class="task-list-item-label" for="task-item-19"> Spring Boot 自动装配原理</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-20" disabled="disabled"><label class="task-list-item-label" for="task-item-20"> 对象创建过程</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-21" disabled="disabled"><label class="task-list-item-label" for="task-item-21"> CPU 100% 排查</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-22" disabled="disabled"><label class="task-list-item-label" for="task-item-22"> OOM 排查</label></li></ul>`,197)])])}const k=t(e,[["render",n]]),p=JSON.parse('{"path":"/interview/java.html","title":"Java 面试题","lang":"zh-CN","frontmatter":{"order":2,"icon":"logos:java","description":"Java 面试题 Java 面试高频考点，覆盖基础语法、集合框架、JVM、并发编程、Spring 等核心知识。 一、基础语法 Q1: Java 基本类型与包装类型的区别 自动装箱/拆箱陷阱： Q2: String 为什么不可变？ 实现： 好处： 线程安全：不可变对象天然线程安全 字符串池：可以安全地共享 哈希缓存：hashCode 只需计算一次 安全性...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Java 面试题\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-12T19:41:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"友人\\",\\"url\\":\\"https://www.codermast.com\\",\\"email\\":\\"codermast@163.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.codermast.com/interview/java.html"}],["meta",{"property":"og:site_name","content":"友人的编程指南"}],["meta",{"property":"og:title","content":"Java 面试题"}],["meta",{"property":"og:description","content":"Java 面试题 Java 面试高频考点，覆盖基础语法、集合框架、JVM、并发编程、Spring 等核心知识。 一、基础语法 Q1: Java 基本类型与包装类型的区别 自动装箱/拆箱陷阱： Q2: String 为什么不可变？ 实现： 好处： 线程安全：不可变对象天然线程安全 字符串池：可以安全地共享 哈希缓存：hashCode 只需计算一次 安全性..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-12T19:41:20.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-12T19:41:20.000Z"}]]},"git":{"createdTime":1765529054000,"updatedTime":1765568480000,"contributors":[{"name":"友人","username":"","email":"codermast@qq.com","commits":2}]},"readingTime":{"minutes":9.98,"words":2993},"filePathRelative":"interview/java.md","autoDesc":true}');export{k as comp,p as data};
