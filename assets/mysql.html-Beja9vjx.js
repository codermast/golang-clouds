import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a as i,o as a}from"./app-x2g52BM9.js";const s={};function o(c,e){return a(),t("div",null,[...e[0]||(e[0]=[i('<h1 id="mysql-面试题" tabindex="-1"><a class="header-anchor" href="#mysql-面试题"><span>MySQL 面试题</span></a></h1><p>索引、事务、锁、优化、主从复制。</p><h2 id="索引" tabindex="-1"><a class="header-anchor" href="#索引"><span>索引</span></a></h2><ul><li>B+Tree 为什么比 B-Tree/Hash 更适合 MySQL？</li><li>聚簇索引 vs 二级索引？回表是什么？如何用覆盖索引避免回表？</li><li>最左前缀法则、范围查询右侧列失效的原因？</li><li>索引失效场景：函数/表达式、隐式类型转换、左模糊、OR 部分无索引、数据分布差。</li><li>前缀索引如何确定长度？如何评估选择性？</li><li>联合索引列顺序如何选择？区分度、查询频率、排序/分组需求。</li></ul><h2 id="事务与-mvcc" tabindex="-1"><a class="header-anchor" href="#事务与-mvcc"><span>事务与 MVCC</span></a></h2><ul><li>ACID 与实现：原子性/undo log，一致性，隔离性/MVCC+锁，持久性/redo log。</li><li>隔离级别与并发现象：RU/RC/RR/Serializable；MySQL 默认 RR，如何避免幻读（快照读 + 间隙锁）。</li><li>MVCC 组成：隐藏列（trx_id、roll_ptr）、undo log、Read View；RC vs RR 的 Read View 生成时机。</li><li>两阶段提交：redo log prepare/commit + binlog，作用是什么？</li></ul><h2 id="锁" tabindex="-1"><a class="header-anchor" href="#锁"><span>锁</span></a></h2><ul><li>锁粒度：全局锁、表锁（MDL）、行锁（Record/GAP/Next-Key）。</li><li>间隙锁/临键锁的作用与加锁规则（唯一索引等值、范围、非唯一）。</li><li>死锁检测与处理：<code>show engine innodb status</code>、<code>innodb_print_all_deadlocks</code>、超时设置。</li><li>意向锁的作用？如何与行锁协作？</li></ul><h2 id="sql-优化" tabindex="-1"><a class="header-anchor" href="#sql-优化"><span>SQL 优化</span></a></h2><ul><li><code>EXPLAIN</code> 关键字段：type（const/eq_ref/ref/range/index/ALL）、rows、key、Extra（Using index/filesort/temporary）。</li><li>慢查询排查：slow log、<code>mysqldumpslow</code>、<code>pt-query-digest</code>。</li><li>查询优化：避免 SELECT *、索引覆盖、分页优化（子查询/ID 游标）、避免函数/隐式转换。</li><li>写入优化：批量插入、合理主键（自增避免页分裂）、控制大事务。</li><li>表设计：字段类型“够用且小”、少 NULL、前缀索引、冷热分离、分库分表触发条件。</li></ul><h2 id="复制与高可用" tabindex="-1"><a class="header-anchor" href="#复制与高可用"><span>复制与高可用</span></a></h2><ul><li>主从复制流程：binlog→从库 IO 线程→relay log→SQL 线程。</li><li>复制模式：异步/半同步/全同步；半同步优缺点。</li><li>主从延迟原因与缓解：大事务、从库性能、单线程复制；并行复制配置。</li><li>读写分离注意：主从延迟、事务内强制走主库、热点读走主库。</li></ul><h2 id="高频清单" tabindex="-1"><a class="header-anchor" href="#高频清单"><span>高频清单</span></a></h2><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> B+Tree 优势、覆盖索引</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> 最左前缀、范围查询失效</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> RC vs RR，MVCC 实现与 Read View 时机</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 间隙锁/临键锁作用与加锁规则</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> redo/binlog 两阶段提交</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" disabled="disabled"><label class="task-list-item-label" for="task-item-5"><code>EXPLAIN</code> 关键字段含义</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" disabled="disabled"><label class="task-list-item-label" for="task-item-6"> 慢查询排查流程</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-7" disabled="disabled"><label class="task-list-item-label" for="task-item-7"> 分库分表的时机与代价</label></li></ul>',14)])])}const n=l(s,[["render",o]]),m=JSON.parse('{"path":"/interview/mysql.html","title":"MySQL 面试题","lang":"zh-CN","frontmatter":{"order":3,"icon":"logos:mysql","description":"MySQL 面试题 索引、事务、锁、优化、主从复制。 索引 B+Tree 为什么比 B-Tree/Hash 更适合 MySQL？ 聚簇索引 vs 二级索引？回表是什么？如何用覆盖索引避免回表？ 最左前缀法则、范围查询右侧列失效的原因？ 索引失效场景：函数/表达式、隐式类型转换、左模糊、OR 部分无索引、数据分布差。 前缀索引如何确定长度？如何评估选择性...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL 面试题\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-12T08:44:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"友人\\",\\"url\\":\\"https://www.codermast.com\\",\\"email\\":\\"codermast@163.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.codermast.com/interview/mysql.html"}],["meta",{"property":"og:site_name","content":"友人的编程指南"}],["meta",{"property":"og:title","content":"MySQL 面试题"}],["meta",{"property":"og:description","content":"MySQL 面试题 索引、事务、锁、优化、主从复制。 索引 B+Tree 为什么比 B-Tree/Hash 更适合 MySQL？ 聚簇索引 vs 二级索引？回表是什么？如何用覆盖索引避免回表？ 最左前缀法则、范围查询右侧列失效的原因？ 索引失效场景：函数/表达式、隐式类型转换、左模糊、OR 部分无索引、数据分布差。 前缀索引如何确定长度？如何评估选择性..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-12T08:44:14.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-12T08:44:14.000Z"}]]},"git":{"createdTime":1765529054000,"updatedTime":1765529054000,"contributors":[{"name":"友人","username":"","email":"codermast@qq.com","commits":1}]},"readingTime":{"minutes":1.96,"words":588},"filePathRelative":"interview/mysql.md","autoDesc":true}');export{n as comp,m as data};
